<!DOCTYPE html>
<html>
<head>
	<title>面向对象之理解对象</title>
</head>
<body>
<script type="text/javascript">
	//
	// defineProperty()
	defineProperties()

	// 定义单个属性
	function defineProperty() {
		var book = {
			_year: 2017,
			edition: 1
		};
		// 数据属性：主要用到writable(默认TRUE)和value属性
		Object.defineProperty(book, "year", {
			writable: false,
			value: 2020
		})
		// _year前面的下划线是一种常用的记号，用于表示只能通过对象方法访问的属性
		// 访问器属性：不包含数据值，包含一对getter和setter函数，读取时调用getter，写入时调用setter
		// Object.defineProperty(book, "year", {
		// 	get: function() {
		// 		return this._year;
		// 	},
		// 	set: function(newValue) {
		// 		if(newValue > 2017) {
		// 			this._year = newValue;
		// 			this.edition += newValue - 2017;
		// 		}
		// 	}
		// })
		book.year = 2018;
		console.log(book.year)
	};

  // 定义多个属性
	function defineProperties() {
		var book = {
			_year: 2017,
			edition: 1
		};
		// _year前面的下划线是一种常用的记号，用于表示只能通过对象方法访问的属性
		Object.defineProperties(book, {
				_year: {
					writable: true,
					value: 2222
				},
				edition: {
					writable: false,
					value: 2
				},
				year: {
					get: function() {
						return this._year;
					},
					set: function(newValue) {
						if(newValue > 2017) {
							this._year = newValue;
							this.edition += newValue - 2017;
						}
					}
				}
		});
		book.year = 2020;
		console.log(book.edition)
	};

</script>
</body>
</html>